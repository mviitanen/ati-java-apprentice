\subsection{Logging Directly}
\textit{Write an application that uses the slf4j logging library directly (can also choose log4j if you want)}

Often there is a need for logging errors and messages in our programs. We can use the Java Logging API without adding a library, it is already included in the JDK distribution. We just need to import the appropriate classes.
\label{javaloggerlst}\begin{lstlisting}[language=Java]
// imports
import java.util.logging.ConsoleHandler;
import java.util.logging.Level;
import java.util.logging.Logger;

// ...

Logger logger = Logger.getLogger(this.getClass().getName());
ogger.setLevel(Level.ALL);
logger.setUseParentHandlers(false);

ConsoleHandler handler = new ConsoleHandler();
logger.addHandler(handler);
\end{lstlisting}

After importing, we create a logger.Loggers, as their name says, log things. We can change the log level of the logger if we show wish. The log level indicates the severity of the messages. We can configure the logger to ignore, or not log messages below a level.
\begin{description}
\item[SEVERE] This is the highest value. It is used for errors and important messages. It translates to an Integer value of 1000.
\item[WARNING] These are messages that are important for system managers and indicate a potential problem (Integer 9000)
\item[INFO] These are messages that typically are displayed to the user. (Integer 800)
\item[CONFIG] These indicate messages regarding the configuration of the application. The user might not be interested in it, but tech support might. (Integer 700)
\item[FINE] The levels FINE, FINER, and FINEST are for developers to debug their application. This level translates to Integer 500.
\item[FINER] Even a lower level used by developers messages. Integer 400.
\item[FINEST] This is the lowest value (kinda). Integer 300
\item[ALL] Translates to Integer.MIN\_VALUE. Useful if we define our own Levels, and want to make sure all messages are being logged.
\end{description}

We can create our own levels by subclassing the Level class\cite{level}.

In listing \ref{javaloggerlst} we set the logger level to ALL. We do this because there is another way to restrict which messages to actually write in the log. A logger decides which messages to log, but a Handler decides what to do with the logged messages. 

We create a ConsoleHandler and set its level to different levels, starting with SEVERE. If we don't do this, Java uses the default handler, which does not handle FINEST messages. On line 9 we disable that default handler by setting setUseParentHandlers to false. Then we add our ConsoleHandler.

We can now write log messages. First we set the level to SEVERE and try several levels:

\begin{lstlisting}[language=Java]
handler.setLevel(Level.SEVERE);

logger.log(Level.SEVERE, "Logging SEVERE");
logger.log(Level.WARNING, "Logging WARN");
logger.log(Level.INFO, "Logging INFO");
logger.log(Level.FINEST, "Logging FINEST");
\end{lstlisting}

The output will be:
\begin{lstlisting}
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
SEVERE: Logging SEVERE
\end{lstlisting}

Only the SEVERE  messages were logged.

If we change the log level, all messages with that level and higher will be logged. For example changing the level to INFO will produce:

\begin{lstlisting}
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
SEVERE: Logging SEVERE
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
WARNING: Logging WARN
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
INFO: Logging INFO
\end{lstlisting}

The SEVERE, WARN, and INFO messages were logged, but not FINEST. If we change the handler's log level once more to FINEST, we will see all messages:

\begin{lstlisting}
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
SEVERE: Logging SEVERE
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
WARNING: Logging WARN
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
INFO: Logging INFO
Dec 21, 2016 11:44:05 AM org.familysearch.viitanenm.DirectLoggingExample doIt
FINEST: Logging FINEST

\end{lstlisting}

We can use the log level to control the types of messages we want to log.

Java Logging works, but it is a bit clunky.